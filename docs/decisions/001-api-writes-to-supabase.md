# ADR-001: API пишет в Supabase, не фронт

## Контекст

Нужно было выбрать кто пишет данные в Supabase — фронт напрямую или API.

## Решение

Все записи через API (service role key). Фронт только читает (anon key + RLS).

## Альтернативы

- Фронт пишет через anon key + RLS policies
- Гибрид: фронт создаёт conversation, API пишет messages

## Почему так

- Один источник правды для записей
- API контролирует что и как сохраняется
- Меньше ошибок синхронизации
- Проще добавлять валидацию и бизнес-логику

## Последствия

- Фронт не может работать офлайн
- Каждое действие — сетевой запрос к API
